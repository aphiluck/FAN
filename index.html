<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Happy New Year ‚ù§Ô∏è</title>

<link href="https://fonts.googleapis.com/css2?family=Mali:wght@400;700&display=swap" rel="stylesheet">

<style>
:root{
  --pink-main:#ff8fab;
  --pink-dark:#f04e7b;
  --pink-soft:#ffe4ec;
}

*{
  box-sizing:border-box;
  font-family:'Mali', cursive;
  -webkit-tap-highlight-color: transparent;
  user-select:none;
}

body{
  margin:0;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background: radial-gradient(circle at top, #fff, var(--pink-soft));
  overflow:hidden;
}

/* ‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏•‡∏≠‡∏¢ */
.heart-float{
  position:fixed;
  bottom:-30px;
  font-size:18px;
  animation: floatUp linear forwards;
  pointer-events:none;
  opacity:.8;
  z-index:1;
}

@keyframes floatUp{
  0%{ transform:translateY(0) scale(.8); opacity:0; }
  10%{ opacity:.9; }
  100%{ transform:translateY(-110vh) scale(1.4); opacity:0; }
}

/* ‡∏ã‡∏≠‡∏á‡∏à‡∏î‡∏´‡∏°‡∏≤‡∏¢ */
.envelope-wrapper{
  position:relative;
  width:min(90vw,320px);
  height:min(60vw,210px);
  background:var(--pink-main);
  border-radius:16px;
  box-shadow:0 20px 40px rgba(0,0,0,.18);
  cursor:pointer;
  perspective:1200px;
  z-index:5;
}

/* ‡∏ù‡∏≤‡∏ã‡∏≠‡∏á */
.flap{
  position:absolute;
  inset:0;
  background:var(--pink-dark);
  clip-path:polygon(0 0,100% 0,50% 55%);
  transform-origin:top;
  transition:.8s ease;
  z-index:5;
  pointer-events:none; /* ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å (‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠) */
}

/* ‡∏î‡πâ‡∏≤‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ã‡∏≠‡∏á */
.front{
  position:absolute;
  inset:0;
  background:var(--pink-main);
  clip-path:polygon(0 0,100% 0,100% 100%,0 100%,0 0,50% 55%,100% 0);
  z-index:4;
  pointer-events:none; /* ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å (‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠) */
}

/* ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©‡∏à‡∏î‡∏´‡∏°‡∏≤‡∏¢ */
.letter{
  position:absolute;
  inset:10px;
  padding:18px 16px;
  background:#fff;
  border-radius:14px;
  text-align:center;
  box-shadow:0 10px 20px rgba(0,0,0,.15);

  height:78%;
  overflow-y:auto;

  transform:translateY(110px);
  opacity:0;
  transition:.9s ease;
  z-index:2;
}

.letter h3{
  margin:0;
  color:#e91e63;
  font-size:clamp(16px,5vw,20px);
}

.letter p{
  margin-top:12px;
  font-size:clamp(13px,4vw,15px);
  line-height:1.7;
  color:#444;
}

/* scrollbar */
.letter::-webkit-scrollbar{
  width:6px;
}
.letter::-webkit-scrollbar-thumb{
  background:#ffd1dc;
  border-radius:10px;
}

/* ‡∏õ‡∏∏‡πà‡∏°‡∏´‡∏±‡∏ß‡πÉ‡∏à */
.heart-btn{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-10%);
  width:44px;
  height:44px;
  background:#ff2f6d;
  clip-path:polygon(
    50% 15%,61% 2%,80% 2%,100% 20%,
    100% 45%,50% 95%,0% 45%,
    0% 20%,20% 2%,39% 2%
  );
  animation:pulse 1.5s infinite;
  z-index:6;
}

@keyframes pulse{
  0%,100%{ transform:translate(-50%,-10%) scale(1); }
  50%{ transform:translate(-50%,-10%) scale(1.15); }
}

/* ‡πÄ‡∏õ‡∏¥‡∏î‡∏ã‡∏≠‡∏á */
.envelope-wrapper.open .flap{
  transform:rotateX(180deg);
  z-index:1;
}

.envelope-wrapper.open .letter{
  transform:translateY(-80px);
  opacity:1;
  z-index:10;
}

.envelope-wrapper.open .heart-btn{
  opacity:0;
}

/* ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ */
.hint{
  position:absolute;
  bottom:-36px;
  width:100%;
  text-align:center;
  font-size:13px;
  color:#fff;
  opacity:.9;
}
</style>
</head>

<body>

<!-- ‡πÄ‡∏û‡∏•‡∏á‡πÄ‡∏ö‡∏≤ ‡πÜ -->
<audio id="bgm" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_1c5a91d9fa.mp3" type="audio/mpeg">
</audio>

<div class="envelope-wrapper" id="envelope">
  <div class="flap"></div>
  <div class="front"></div>

  <div class="letter">
    <h3>üíå MY QUEEN</h3>
    <p>
      ‡∫õ‡∫µ‡ªÉ‡ªù‡ªà‡ªÅ‡∫•‡ªâ‡∫ß ‚ù§Ô∏è<br>
      ‡∫õ‡∫µ‡∫ó‡∫µ‡ªà‡∫ú‡ªà‡∫≤‡∫ô‡∫°‡∫≤‡ªÄ‡∫õ‡∫±‡∫ô‡∫õ‡∫µ‡∫ó‡∫µ‡ªà‡ªÄ‡∫°‡∫∑‡ªà‡∫≠‡∫ç‡∫´‡∫º‡∫≤‡∫ç  
      ‡ªÅ‡∫ï‡ªà‡∫Å‡ªç‡ªà‡ªÄ‡∫õ‡∫±‡∫ô‡∫õ‡∫µ‡∫ó‡∫µ‡ªà‡ªÄ‡∫ï‡∫±‡∫°‡ªÑ‡∫õ‡∫î‡ªâ‡∫ß‡∫ç‡∫Æ‡∫≠‡∫ç‡∫ç‡∫¥‡ªâ‡∫°‡∫Ç‡∫≠‡∫á‡ªù‡∫µ  
      <br><br>
      ‡∫õ‡∫µ‡∫ô‡∫µ‡ªâ‡∫Ç‡ªç‡ªÉ‡∫´‡ªâ‡∫ó‡∫∏‡∫Å‡ªÜ‡ªÄ‡∫ä‡∫ª‡ªâ‡∫≤‡∫ï‡∫∑‡ªà‡∫ô‡∫°‡∫≤‡∫û‡∫ª‡∫ö‡ªÅ‡∫ï‡ªà‡∫™‡∫¥‡ªà‡∫á‡∫î‡∫µ‡ªÜ  
      ‡∫ç‡∫¥‡ªâ‡∫°‡∫´‡∫º‡∫≤‡∫ç‡ªÜ  
      <br><br>
      ‡ªÄ‡∫°‡∫∑‡ªà‡∫≠‡∫ç‡∫°‡∫∑‡ªâ‡ªÉ‡∫î ‡∫¢‡ªà‡∫≤‡∫•‡∫∑‡∫°‡∫ß‡ªà‡∫≤  
      ‡∫ç‡∫±‡∫á‡∫°‡∫µ‡ªÄ‡∫Ç‡∫ª‡∫≤‡∫Ñ‡∫≠‡∫ç‡∫¢‡∫π‡ªà‡∫Ç‡ªâ‡∫≤‡∫á‡ªÜ  
      ‡∫Æ‡∫±‡∫Å‡ªù‡∫µ‡ªÄ‡∫î‡∫µ‡ªâ üíï
    </p>
  </div>

  <div class="heart-btn"></div>
  <div class="hint">‡ªÅ‡∫ï‡∫∞‡ªÄ‡∫û‡∫∑‡ªà‡∫≠‡ªÄ‡∫õ‡∫µ‡∫î‡∫à‡∫ª‡∫î‡ªù‡∫≤‡∫ç üíñ</div>
</div>

<script>
let opened = false;
const envelope = document.getElementById('envelope');
const music = document.getElementById('bgm');

envelope.addEventListener('click', () => {
  envelope.classList.toggle('open');

  if(!opened){
    music.volume = 0.4;
    music.play();
    startHearts();
    opened = true;
  }
});

function startHearts(){
  setInterval(()=>{
    const heart = document.createElement('div');
    heart.className = 'heart-float';
    heart.textContent = 'üíñ';
    heart.style.left = Math.random()*100 + 'vw';
    heart.style.fontSize = 14 + Math.random()*16 + 'px';
    heart.style.animationDuration = 4 + Math.random()*3 + 's';
    document.body.appendChild(heart);
    setTimeout(()=>heart.remove(),7000);
  },400);
}
</script>

</body>
</html>
